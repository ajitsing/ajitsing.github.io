{% assign featured_post = nil %}
{% for post in site.posts %}
  {% if post.featured %}
    {% assign featured_post = post %}
    {% break %}
  {% endif %}
{% endfor %}

{% if featured_post %}
<section class="featured-post-section">
  <a href="{{ featured_post.url | relative_url }}" class="featured-post-card" onclick="gtag('event', 'click', {'event_category': 'Featured Post', 'event_label': '{{ featured_post.title | escape }}'});">
    <span class="featured-badge">
      <i class="fas fa-star"></i>
      Featured
    </span>
    
    <div class="featured-post-content">
      <h2 class="featured-post-title">{{ featured_post.title }}</h2>
      
      {% if featured_post.subtitle %}
        <p class="featured-post-subtitle">{{ featured_post.subtitle }}</p>
      {% else %}
        <p class="featured-post-subtitle">
          {{ featured_post.excerpt | strip_html | truncatewords: 25 }}
        </p>
      {% endif %}
      
      <div class="featured-post-meta">
        <span class="featured-post-date">
          <i class="far fa-calendar-alt"></i>
          {{ featured_post.date | date: "%B %-d, %Y" }}
        </span>
        {% if featured_post.tags.size > 0 %}
          <span class="featured-post-tags">
            {% for tag in featured_post.tags limit:2 %}
              <span class="featured-tag">{{ tag }}</span>
            {% endfor %}
          </span>
        {% endif %}
      </div>
      
      <span class="featured-read-more">
        Read Article
        <i class="fas fa-arrow-right"></i>
      </span>
    </div>
    
    {% if featured_post.thumbnail-img or featured_post.share-img %}
    <div class="featured-post-image">
      <img src="{{ featured_post.thumbnail-img | default: featured_post.share-img | relative_url }}" alt="{{ featured_post.title }}" loading="lazy">
    </div>
    {% endif %}
  </a>
</section>
{% endif %}
